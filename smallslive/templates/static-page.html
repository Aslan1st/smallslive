{% extends "home_new.html" %}
{% load static from staticfiles %}

{% block info_nav_active %}active{% endblock %}

{% block content %}
    <div class="main-container pad-content">
      <div>
        <div class="flex-row content-centered">

            <ul class="static-nav-menu">
              <li class="white-border-button no-border
                      {% block venues-location-active %}{% endblock %}" id="venues-location">
                <a href="#">Venues/Location</a>
              </li>
  
              <li class="white-border-button no-border
                      {% block passes-tickets-statement-active %}{% endblock %}" id="passes-tickets">
                <a href="#">Passes/Tickets</a>
              </li>
              <li class="white-border-button no-border
                      {% block hours-polices-active %}{% endblock %}" id="hours-policies">
                <a href="#">Hours/Policies</a>
              </li>
              <li class="white-border-button no-border
                      {% block foundation-active %}{% endblock %}"  id="foundation"><a
                      href="#">Foundation</a>
              </li>
              <li class="white-border-button no-border
                      {% block archive-active %}{% endblock %}" id="archive"><a
                      href="#">Archive</a>
              </li>
              <li class="white-border-button no-border
                      {% block live-stream-active %}{% endblock %}" id="streaming"><a
                      href="#">Live Stream</a>
              </li>
              <li class="white-border-button no-border
                      {% block catalog-active %}{% endblock %}" id="catalog"><a
                      href="#">Catalog</a>
              </li>
              <li class="white-border-button no-border
                      {% block about-us-active %}{% endblock %}" id="about-us">
                <a href="#">About us</a>
              </li>
            </ul>
        <div class="flex-column info-page-container">
           {% include "flatpages/venues-location.html" %}
           {% include "flatpages/passes-tickets.html" %}
           {% include "flatpages/hours-policies.html" %}
           {% include "flatpages/foundation.html" %}
           {% include "flatpages/archive.html" %}
           {% include "flatpages/streaming.html" %}
           {% include "flatpages/catalog.html" %}
           {% include "flatpages/about-us.html" %}
        </div>
      </div>
    </div>

    <script>
    
    $().ready(function(){

        const pages = ["venues-location", "passes-tickets", "hours-policies", "foundation", "archive", "streaming", "catalog", "about-us"]
        $(window).scroll(function(){

          for(pageButton of pages){
            $("#"+pageButton+" a").css('color', 'black')
          }

          for(page of pages){

          
            var element = document.querySelector('#' + page + '-tab');




            var position = element.getBoundingClientRect();

            // checking for partial visibility
            if(position.top < window.innerHeight && position.bottom >= 0) {
              $("#"+page+" a").css('color', 'red')
              return;
            }

            


          }
        })

        $('.white-border-button').click(function(e){


            let id = $(this).attr('id')
            console.log("#"+id+"-tab")
          $('html, body').animate(
              {
                scrollTop: $("#"+id+"-tab").offset().top
              },
              500,
              'linear'
  )
        })

        $('.expand').click(e => {

          $(e.target).parent().parent().parent().parent().toggleClass('closed')
          $(e.target).toggleClass('closed')
        })


      function switchTab (tabToSwith) {
        tabs.forEach(tab => {

         tab == tabToSwith ? $('#'+tab).addClass('active') : $('#'+tab).removeClass('active') 

        })
      }

    })
    
    
    </script>

{% endblock content %}
