{% extends "home_new.html" %}
{% load static from staticfiles %}
{% load thumbor_tags %}
{% load i18n %}

{% block homepage_nav_active %}active{% endblock %}

{% block title %}Smalls Jazz Club{% endblock %}

{# TODO Shouldn't be needed here #}
{% block body_class %}home{% endblock %}

{% block extra_nav %}
  <div class="search-tabs">
    <div class="title1 active" onclick="showContent('#showsContent', this)">Shows</div>
    <div class="title1" onclick="showContent('#musicianContent', this)">Musicians</div>
  </div>
{% endblock %}

{% block extra_head %}
  <meta name="description"
        content="This is the official website for Smalls Jazz Club in Greenwich Village, New York City!">
  <script src="{% static 'js/search/search.js' %}"></script>
{% endblock %}

{% block content %}

  {% include 'inactive_dialog.html' %}
  <div class="main-container search-container {% if user.is_superuser %}admin-shown{% endif %}">

    <section id="musicianContent" class="event-stripe search-tab-content">
      <div class="section-title" style="justify-content: space-between">
        <div class="title1">Musicians</div>
        <div>
          <input id="artist-search" class="search-artist-box" name="q" type="text" placeholder="Search"
                 autocomplete="off">

          <div class="instrument-btn white-border-button">Instrument</div>
        </div>

      </div>
      <div class="instruments-container">
        {% for instrument in instruments %}
          <div class="instrument text4 text-grey">{{ instrument }}</div>
        {% endfor %}
      </div>
      <div class="instrument-btn white-border-button visible-sm visible-xs">Instrument</div>

      <div class="container-list-article">

        <div class="left_arrow artist-arrow-search artist-arrow-disabled">
          <i class="fa fa-angle-left"></i>
        </div>

        <div class="loading-image">
          <img src="{% static 'image/loading.gif' %}" alt="">
        </div>

        <main id="artists" class="artists-container">
          {% include 'search/artist_results.html' %}
        </main>

        <div class="right_arrow artist-arrow-search"
             style="{% if artist_num_pages == 1 %}visibility: hidden;{% endif %}">
          <i class="fa fa-angle-right"></i>
        </div>

      </div>
      <div class="flex-row items-center content-space-around">
        <div class="left_arrow artist-arrow-search artist-arrow-disabled visible-sm visible-xs">
          <i class="fa fa-angle-left"></i>
        </div>
        <div id="artist-subheader"
             class="header-sub title2 subheader-results-artist results-text">{{ showing_artist_results }}
        </div>
        <div class="right_arrow artist-arrow-search visible-sm visible-xs">
          <i class="fa fa-angle-right"></i>
        </div>
      </div>
    </section>

    <section id="showsContent" class="event-stripe search-tab-content active">
      <div class="event-section">
        <div class="section-title" style="justify-content: space-between">
          <div class="title1">Shows</div>
          <div id="event-subheader"
               class="header-sub title2 subheader-results results-text">{{ showing_event_results }}</div>
        </div>
        <div class="shows-filter-container">
          <div class="white-border-select event-filter-select">
            <select id="events-filter">
              <option value="newest">Newest to oldest</option>
              <option value="oldest">Oldest to newest</option>
              <option value="popular">Most popular</option>
            </select>
          </div>

          <div class="custom-date-picker" id="search-date-picker">
            <input class="date-picker-text" type="text" placeholder="date" readonly>
            <i class="fa fa-caret-down"></i>
          </div>
        </div>

      </div>

      <main id="events" class="events-results">
        {% include 'search/event_results.html' with events=event_results %}
      </main>

      <div class="concerts-footer flex-column items-center">
        <div id="event-subheader-footer" class="header-sub title2 results-text">
          {{ showing_event_results }}
        </div>

        <button id="next-page-btn" class="white-border-button next-page-btn" style="width:220px;">
          <span style="display: block; margin-top: -15px;">NEXT PAGE</span>
        </button>

        <div id="page-numbers-footer">
          {% include 'search/page_numbers_footer.html' %}
        </div>

      </div>
    </section>
  </div>
{% endblock %}

{% block extra_js %}
  <script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>
  <script src="{% static 'js/bootstrap-datepicker.js' %}"></script>
  <script>
      function showContent(id, tab) {
          $('.search-tab-content').removeClass('active');
          $(id).addClass('active');

          $('.search-tabs > div').removeClass('active');
          $(tab).addClass('active');
      }
  </script>
{% endblock %}

{% block footer %}
{% endblock %}


