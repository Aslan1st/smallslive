{% extends "artist_dashboard/home.html" %}
{% load add_get_parameter %}
{% load static from staticfiles %}
{% load thumbor_tags %}

{% block extra_head %}
  <script>
    var django = {jQuery: jQuery};
  </script>
  {{ form.media }}
  <link href="{% static 'css/selectize.bootstrap3.css' %}" rel="stylesheet">
  <link href="/static/image_cropping/css/jquery.Jcrop.min.css" type="text/css" media="all" rel="stylesheet" />
  <link href="/static/image_cropping/css/image_cropping.css" type="text/css" media="all" rel="stylesheet" />
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="/static/image_cropping/js/jquery.Jcrop.min.js"></script>
  <script type="text/javascript" src="/static/image_cropping/image_cropping.js"></script>

{% endblock extra_head %}

{% block my-events-active %}active{% endblock %}

{% block title %}My events{% endblock %}

{% block content %}
  {% include 'artist_dashboard/publish_modal.html' %}

  {# TODO Move container to dashboard base #}
  <div class="artist-profile-container flex-column" style="padding-left: 0; padding-right: 0;">
    <div class="event-mobile-info" id="event-info-mobile-card" style="display:none;width:100%;padding:0"></div>

    <div id="artistEventsContainer" class="flex-row items-flex-stretch artist-events-container" style="border-top: none;">
      {% include 'artist_dashboard/my_gigs/event_list.html' %}
      <div id="artistEventsInfo" class="flex-row items-flex-stretch artist-events-list-info">
        <div id="event-edit-form-load-gif" class="hidden events-gif text-center">
          <img src="{% static 'image/loading.gif' %}" alt="" style="margin: 50px auto; width: 50px;">
        </div>
        <div id="edit-event-dashboard" class="edit-event-dashboard" style="width: 50%; margin-top: 69px; padding: 20px;">

        </div>
        <div id="event-info-load-gif" class="hidden events-gif text-center">
          <img src="{% static 'image/loading.gif' %}" alt="" style="margin: 50px auto; width: 50px;">
        </div>
        <div id="event-info" class="artist-dashboard-event-container" style="padding-top: 90px; width: 50%;">

        </div>
      </div>
    </div>

  </div>
  <div id="myNav" class="refine-overlay dashboard-refine">

    <div class="refine-overlay-menu white-line-bottom">
      <div><a href="javascript:void(0)" class="closebtn">&times;</a></div>
      <div class="calendar-refine-menu-item text1">Refine</div>
      <div class="refine-apply calendar-refine-menu-item text1">Apply</div>
    </div>

    <div class="refine-overlay-content">
      <p class="calendar-refine-title title1">Date Range</p>
      <div class="refine-datepicker-container">
        <div class="custom-date-picker search-date-picker-from-refine" id="search-date-picker-from-refine">
            <input class="date-picker-text" id="start-date" type="text" placeholder="Select date" readonly>
        </div>

        <div class="custom-date-picker search-date-picker-to-refine" id="search-date-picker-to-refine">
            <input class="date-picker-text" id="until-date" type="text" placeholder="Select date" readonly>
        </div>
      </div>

      <p class="calendar-refine-title title1">Status</p>

      <span class="btngroup text2 refine-dashboard-buttons">
        <button value="leader" class="btngroup--btn">Leader</button>
        <button value="sidemusician" class="btngroup--btn">Side musician</button>
        <button value="all" class="btngroup--btn">All</button>
      </span>

      <p class="calendar-refine-title title1">Sort By</p>
      <div class="white-border-select event-filter-select calendar-duration">
        <select id="refine-order-filter">
          <option value="newest">Newest to oldest</option>
          <option value="oldest">Oldest to newest</option>
          <option value="popular">Most Popular</option>
        </select>
      </div>
      <div class="reset-all text2 text-grey">Reset All</div>
    </div>
  </div>
{% endblock content %}

{% block extra_js %}
  <script src="https://jwpsrv.com/library/w1FDmNWFEeS9qhJtO5t17w.js"></script>
  <script src="{% static 'js/selectize.min.js' %}"></script>
  <script src="{% static 'js/Chart.min.js' %}"></script>
  <script src="{% static 'js/subpages.js' %}"></script>
  <script src="{% static 'js/jquery.form.js' %}"></script>
  <script src="{% static 'js/viewport-lenght-for-ios.js' %}"></script>
  <script src="{% static 'js/moment.min.js' %}"></script>
  <script src="{% static 'js/bootstrap-datepicker.js' %}"></script>
  <script src="{% static 'js/event_form.js' %}"></script>
  <script src="{% static 'js/search/artist_dashboard.js' %}"></script>

  <script>
        
    {% if is_future %}
      var eventsUrl = "{% url 'artist_dashboard:my_future_events_ajax' %}";
    {% else %}
      var eventsUrl = "{% url 'artist_dashboard:my_past_events_ajax' %}";
    {% endif %}

    var selectedSetId;
    var currentPage = 0;
    var totalPages = 1;


    //////////

  </script>
  <link rel="stylesheet" type="text/css" href="{% static 'css/selectize.bootstrap3.css' %}">

{% endblock %}
