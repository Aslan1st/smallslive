{% extends "artist_dashboard/base.html" %}
{% load static from staticfiles %}
{% load thumbor_tags %}


{% block content %}
  <section class="container cta cta--contract flexbox-equal-height" data-step="7" data-intro="Please note that, for your Artist Dashboard to be fully in function (and for you to get your rightfully deserved money :)), you need to sign the Artist Agreement.">
      <div class="cta__content">
          <h2>To gain access to Metrics, and to enter our Artists revenue sharing program, you need to review and sign The SmallsLIVE Artist Revenue Sharing Contract.</h2>
          <h3>To do that please visit the “Legal” section in the menu above, or click the button below.</h3>
          <a href="#" class="cta__button">Go to Legal</a>
      </div>
  </section>
  <section class="container featured-metrics flexbox-equal-height">
      <!-- Single metric -->
      <div class="col-xs-6 col-sm-3 featured-metrics__metric">
          <div class="featured-metrics__metric__name">My trend</div>
          <div class="featured-metrics__metric__content">
              <div class="featured-metrics__metric__content__primary">
                  <h2 class="neutral">This week:</h2>
                  <h1 class="positive"><i class="fa fa-arrow-up"></i> 4.2%</h1>
              </div>
              <div class="featured-metrics__metric__content__secondary">
                  <h2 class="neutral">This month:</h2>
                  <h1 class="negative"><i class="fa fa-arrow-down"></i> 2.7%</h1>
              </div>
          </div>
      </div>
      <!-- End of single metric -->
      <!-- Single metric -->
      <div class="col-xs-6 col-sm-3 featured-metrics__metric">
          <div class="featured-metrics__metric__name">Not available</div>
          <div class="featured-metrics__metric__content">
              <div class="featured-metrics__metric__content__primary">
                  <h2 class="neutral">Something:</h2>
                  <h1 class="neutral">-</h1>
              </div>
              <div class="featured-metrics__metric__content__secondary">
                  <h2 class="neutral">Something:</h2>
                  <h1 class="neutral">-</h1>
              </div>
          </div>
      </div>
      <!-- End of single metric -->
      <!-- Single metric -->
      <div class="col-xs-6 col-sm-3 featured-metrics__metric">
          <div class="featured-metrics__metric__name">My income</div>
          <div class="featured-metrics__metric__content">
              <div class="featured-metrics__metric__content__primary">
                  <h2 class="neutral">This month:</h2>
                  <h1 class="positive"><i class="fa fa-arrow-up"></i> $1247.14</h1>
              </div>
              <div class="featured-metrics__metric__content__secondary">
                  <h2 class="neutral">vs last month:</h2>
                  <h1 class="negative"><i class="fa fa-arrow-down"></i> 1.9%</h1>
              </div>
          </div>
      </div>
      <!-- End of single metric -->
      <!-- Single metric -->
      <div class="col-xs-6 col-sm-3 featured-metrics__metric">
          <div class="featured-metrics__metric__name">All time</div>
          <div class="featured-metrics__metric__content">
              <div class="featured-metrics__metric__content__primary">
              <div class="featured-metrics__metric__content__primary">
                  <h2 class="neutral">Streamed:</h2>
                  <h1 class="positive">198hrs</h1>
              </div>
              <div class="featured-metrics__metric__content__secondary">
                  <h2 class="neutral">This month:</h2>
                  <h1 class="positive">61.4k</h1>
              </div>
          </div>
      </div>
    </div>
      <!-- End of single metric -->
  </section>
  <section class="dashboard__best-list container">
      <div class="col-xs-12 col-sm-6">
          <p class="dashboard__section-title">My most viewed events:</p>
          <ul class="mini-events__container">
              <!-- single mini event -->
              <li class="mini-event flexbox-equal-height flexbox-nowrap">
                  <a href="#" class="mini-event__image col-xs-3 col-lg-2">
                      <img src="{% static 'image/dashboard/default-event-thumbnail.jpg' %}" alt="">
                  </a>
                  <div class="mini-event__details col-xs-9 col-lg-10">
                      <p class="mini-event__details__date">10/24/2007</p>
                      <a href="#" class="mini-event__details__title">The early bird session hosted by Ari Hoenig</a>
                      <div class="mini-event__details__labels">
                          <p>Time:</p>
                          <p>Views:</p>
                      </div>
                      <div class="mini-event__details__values">
                          <p>16:21:46</p>
                          <p>3842</p>
                      </div>
                  </div>
              </li>
              <!-- end of single mini event -->
              <!-- single mini event -->
              <li class="mini-event flexbox-equal-height flexbox-nowrap">
                  <a href="#" class="mini-event__image col-xs-3 col-lg-2">
                      <img src="{% static 'image/dashboard/default-event-thumbnail.jpg' %}" alt="">
                  </a>
                  <div class="mini-event__details col-xs-9 col-lg-10">
                      <p class="mini-event__details__date">10/24/2007</p>
                      <a href="#" class="mini-event__details__title">The early bird session hosted by Ari Hoenig</a>
                      <div class="mini-event__details__labels">
                          <p>Time:</p>
                          <p>Views:</p>
                      </div>
                      <div class="mini-event__details__values">
                          <p>16:21:46</p>
                          <p>3842</p>
                      </div>
                  </div>
              </li>
              <!-- end of single mini event -->
              <!-- single mini event -->
              <li class="mini-event flexbox-equal-height flexbox-nowrap">
                  <a href="#" class="mini-event__image col-xs-3 col-lg-2">
                      <img src="{% static 'image/dashboard/default-event-thumbnail.jpg' %}" alt="">
                  </a>
                  <div class="mini-event__details col-xs-9 col-lg-10">
                      <p class="mini-event__details__date">10/24/2007</p>
                      <a href="#" class="mini-event__details__title">The early bird session hosted by Ari Hoenig</a>
                      <div class="mini-event__details__labels">
                          <p>Time:</p>
                          <p>Views:</p>
                      </div>
                      <div class="mini-event__details__values">
                          <p>16:21:46</p>
                          <p>3842</p>
                      </div>
                  </div>
              </li>
              <!-- end of single mini event -->
          </ul>
      </div>
      <div class="col-xs-12 col-sm-6">
          <p class="dashboard__section-title">My most listened to events:</p>
          <ul class="mini-events__container">
              <!-- single mini event -->
              <li class="mini-event flexbox-equal-height flexbox-nowrap">
                  <a href="#" class="mini-event__image col-xs-3 col-lg-2">
                      <img src="{% static 'image/dashboard/default-event-thumbnail.jpg' %}" alt="">
                  </a>
                  <div class="mini-event__details col-xs-9 col-lg-10">
                      <p class="mini-event__details__date">10/24/2007</p>
                      <a href="#" class="mini-event__details__title">The early bird session hosted by Ari Hoenig</a>
                      <div class="mini-event__details__labels">
                          <p>Time:</p>
                          <p>Plays:</p>
                      </div>
                      <div class="mini-event__details__values">
                          <p>16:21:46</p>
                          <p>3842</p>
                      </div>
                  </div>
              </li>
              <!-- end of single mini event -->
              <!-- single mini event -->
              <li class="mini-event flexbox-equal-height flexbox-nowrap">
                  <a href="#" class="mini-event__image col-xs-3 col-lg-2">
                      <img src="{% static 'image/dashboard/default-event-thumbnail.jpg' %}" alt="">
                  </a>
                  <div class="mini-event__details col-xs-9 col-lg-10">
                      <p class="mini-event__details__date">10/24/2007</p>
                      <a href="#" class="mini-event__details__title">The early bird session hosted by Ari Hoenig</a>
                      <div class="mini-event__details__labels">
                          <p>Time:</p>
                          <p>Plays:</p>
                      </div>
                      <div class="mini-event__details__values">
                          <p>16:21:46</p>
                          <p>3842</p>
                      </div>
                  </div>
              </li>
              <!-- end of single mini event -->
              <!-- single mini event -->
              <li class="mini-event flexbox-equal-height flexbox-nowrap">
                  <a href="#" class="mini-event__image col-xs-3 col-lg-2">
                      <img src="{% static 'image/dashboard/default-event-thumbnail.jpg' %}" alt="">
                  </a>
                  <div class="mini-event__details col-xs-9 col-lg-10">
                      <p class="mini-event__details__date">10/24/2007</p>
                      <a href="#" class="mini-event__details__title">The early bird session hosted by Ari Hoenig</a>
                      <div class="mini-event__details__labels">
                          <p>Time:</p>
                          <p>Plays:</p>
                      </div>
                      <div class="mini-event__details__values">
                          <p>16:21:46</p>
                          <p>3842</p>
                      </div>
                  </div>
              </li>
              <!-- end of single mini event -->
          </ul>
      </div>
  </section>
  <section class="dashboard__upcoming-events container">
      <p class="dashboard__section-title">My upcoming events at Smalls:</p>
      <ul class="upcoming-events__container">
        {% for gig_info in upcoming_events %}
        {% with event=gig_info.event  %}
          <li class="upcoming-event flexbox-equal-height flexbox-nowrap">
              <div class="upcoming-event__image col-xs-12 col-sm-3 col-lg-2">
                {% if event.photo %}
                  <a href="#"><img src="{% thumbor_url event.photo.url|urlencode height=140 width=140 smart=True %}" alt=""/></a>
                {% else %}
                  <a href="#"><img src="{% static 'image/no-event-photo-thumbnail.jpg' %}" alt=""/></a>
                {% endif %}
              </div>
              <div class="upcoming-event__details col-xs-12 col-sm-9 col-lg-10">
                  <p class="upcoming-event__details__date">{{ event.listing_date|date:"n/j/Y" }}</p>
                  <a href="#" class="upcoming-event__details__title">{{ event.full_title }}</a>
                  <p class="upcoming-event__details__label">With:</p>
                  <p class="upcoming-event__details__artists">
                    {% for gig_info in event.get_performers %}
                      {{ gig_info.artist.full_name }} <span class="instrument">({{ gig_info.role }})</span>{% if not forloop.last %}  // {% endif %}
                    {% endfor %}
                  </p>
                  {% if gig_info.is_leader %}
                    <span class="is-leader">You are the leader.</span>
                    <a href="#" class="red-arrow-button">Edit event</a><span class="arrow"></span>
                  {% endif %}
              </div>
          </li>
        {% endwith %}
        {% empty %}
          <p>No upcoming events.</p>
        {% endfor %}
      </ul>
  </section>
{% endblock content %}


{% block extra_js %}
  <script src="{% static 'js/intro/intro.min.js' %}"></script>
  <script>
      var firstTime = {{ first_time }};
      if (firstTime) {
        $(document).ready(function () {
          if( $(window).width() > 1000) {
              introJs().start();
          }
        })
      }
  </script>
{% endblock %}