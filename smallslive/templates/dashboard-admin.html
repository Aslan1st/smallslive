{% extends "base_admin.html" %}
{% load humanize %}
{% load thumbor_tags %}
{% block title %}Dashboard{% endblock title%}
{% block content %}
  <h1>Dashboard &amp; Calendar</h1>
  <div class="row">
    <div class="col-sm-12">
      
      <p><a href="{% url "event_add" %}"><button class="btn btn-primary">Add new event&hellip;</button></a> <a href="{% url "artist_add" %}"><button class="btn btn-primary">Add new artist</button></a></p>
      <ul class="nav nav-tabs">
        <li class="active"><a href="#recent" data-toggle="tab">Recently Updated</a></li>
        <li><a href="#holds" data-toggle="tab">All Holds</a></li>
        <li><a href="#avail" data-toggle="tab">Open Slots</a></li>
        <li><a href="#upcoming" data-toggle="tab">Upcoming Calendar</a></li>
        <li><a href="#video-summary" data-toggle="tab">Recording Stats</a></li>
        <li><a href="#artists" data-toggle="tab">Top Artists</a></li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane active" id="recent">
          <table class="table table-condensed">
            <thead>
              <tr>
                <th>Gig Date</th>
                <th>Pic</th>
                <th>View Event</th>
                <th>Edit</th>
                <th>Artists Registered?</th>
                <th>Last Updated</th>
              </tr>
            </thead>
            <tbody>
              {% for event in events %}
              <tr>
                <td>{{ event.start }}</td>
                <td>{% if event.photo.url != "" %}
            <img src="{% thumbor_url event.photo.url|urlencode height=40 smart=True brightness=80 %}" class="img-responsive artist-photo" />
          {% endif %}</td>
                <td><a href="{{ event.get_absolute_url }}">{{ event.display_title }}</a></td>
                <td><a href="{% url "event_edit" pk=event.id %}">edit</a></td>
                <td><span class="text-danger">0/4</span> <a href="#">Send invitation(s)&hellip;</a></td>
                <td class="text-muted">{{ event.last_modified_by.get_full_name }} {{ event.modified|naturaltime }}</td>
              </tr>
              {% endfor %}
              <tr><td colspan="4">Show 50 rows + use datatables to allow sorting and maybe filtering</td></tr>
            </tbody>
          </table>
        </div>
        <div class="tab-pane" id="avail">
          <p>Table showing unbooked open slots in next 60 days ordered by nearest gig date first. This essentially could replace the need for Google Calendar usage by spike.</p>
        </div>
        <div class="tab-pane" id="holds">
          <p>Table showing held (unconfirmed) gigs in next 60 days ordered by soonest first.</p>
        </div>
        <div class="tab-pane" id="upcoming">
          <p>This could either be a display of Spike's calendar using RSS from Google Cal, or we could render something similar to a calendar UI w/ all upcoming dates, holds, and open slots.</p>
        </div>
        <div class="tab-pane" id="artists">        
          <div class="well">
            <h2>Top Earning Artists:</h2>
            <p>Lifetime | YTD | This month | Last month</p>
            <p>Leaderboard table here.</p>
          </div>
        </div>
        <div class="tab-pane" id="video-summary">
          <div class="well">
            <h2>Top Earning Recordings:</h2>
            <p>Lifetime | YTD | This month | Last month</p>
            <p>Leaderboard table here</p> 
          </div>
          
          <div class="well">
          <h2>Recently Published Videos:</h2>
     
            <div class="thumbnail">
              <a href="">thumbnail</a>
              <div class="caption">length
                <p>Gig date</p>   
                <p>viewing stats</p>
              </div>
            </div>
       
            <div class="thumbnail">
              <a href="">thumbnail</a>
              <div class="caption">length
                <p>Gig date</p>   
                <p>viewing stats</p>
              </div>
            </div>
       
            <div class="thumbnail">
              <a href="">thumbnail</a>
              <div class="caption">length
                <p>Gig date</p>  
                <p>viewing stats</p> 
              </div>
            </div>
       
            <div class="thumbnail">
              <a href="">thumbnail</a>
              <div class="caption">length
                <p>Gig date</p>   
                <p>viewing stats</p>
              </div>
            </div>
          </div>

        </div>
      </div> 
     
    </div>
 
  </div>
  <div class="dev">
    <h1>Dev notes</h1>
    <Ul> 
    </Ul>
  </div>
{% endblock content %}
