{% extends "smalls_base.html" %}
{% load add_get_parameter %}
{% load static from staticfiles %}
{% load thumbor_tags %}

{% block title %}Artist list{% endblock %}

{% block schedule_nav_active %}active{% endblock %}

{% block content %}

    <div class="content-wrapper">
        <section class="page-heading container">
            <h1>Institution list:</h1>
        </section>
        <section class="artists-list__list container">
            <div class="artists-list__list__header row">
                <div class="col-xs-6">
                    Name
                </div>
                <div class="col-xs-2">
                    Start
                </div>
                <div class="col-xs-2">
                    End
                </div>
                <div class="col-xs-2">
                    # users
                </div>
            </div>
            <ul>
                {% for institution in institutions %}
                    <li class="artists-list__list__row row">
                        <div class="col-xs-6 artists-list__list__name">
                            {{ institution.name }}
                        </div>
                        <div class="col-xs-2 artists-list__list__instrument">
                            {{ institution.subscription_start }}
                        </div>
                        <div class="col-xs-2 artists-list__list__instrument">
                            {{ institution.subscription_end }}
                        </div>
                        <div class="col-xs-2 artists-list__list__instrument">
                            {{ institution.members.count }}
                        </div>
                    </li>
                {% empty %}
                    <li class="artists-list__list__row--empty row">No institutions found</li>
                {% endfor %}
            </ul>
        </section>
        <section class="page-pagination artists-list__pagination container">
          <p class="search-pagination-info">Showing results {{ page_obj.start_index }}-{{ page_obj.end_index }}
            of {{ paginator.count }}</p>
          {% if page_obj.has_previous or page_obj.has_next %}
            <div class="search-pagination">
              {% if page_obj.has_previous %}<a href="{% add_get page=page_obj.previous_page_number %}"><span
                      class="search-pagination__previous fa fa-caret-left"></span></a>{% endif %}
              {% if show_first %}
                <a href="{% add_get page=1 %}"><span class="search-pagination__page">1</span></a>
                ...
              {% endif %}
              {% for page in page_numbers %}
                <a href="{% add_get page=page %}"><span
                        class="search-pagination__page {% if page == page_obj.number %}active{% endif %}">{{ page }}</span></a>
              {% endfor %}
              {% if show_last %}
                ...
                <a href="{% add_get page=paginator.num_pages %}"><span
                        class="search-pagination__page">{{ paginator.num_pages }}</span></a>
              {% endif %}
              {% if page_obj.has_next %}<a href="{% add_get page=page_obj.next_page_number %}"><span
                      class="search-pagination__next fa fa-caret-right"></span></a>{% endif %}

            </div>
          {% endif %}
        </section>
    </div>

{% endblock content %}

